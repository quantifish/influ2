[{"path":"http://www.quantifish.co.nz/influ2/articles/hurdle.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"hurdle","text":"Hurdle models tricky, heres . Distribution data year group.","code":"library(tidyverse) library(reshape2) library(brms) library(influ2) library(bayesplot)  options(mc.cores = parallel::detectCores())  # Simulate some data to use set.seed(2020)  # create data according to the hurdle-lognormal distribution pi <- 0.3 # probability of a zero mu_log <- 2 # lognormal mean sigma_log <- 0.2  # generate data N <- 1000  set.seed(seed = 42) ydf <- data.frame(year = 1995:2015, value = rnorm(n = 21, mean = 0, sd = 1)) idy <- sample(x = 1:21, size = N, replace = TRUE) yr <- ydf[idy,] levs <- sample(x = c(\"treat\", \"placebo\"), size = N, replace = TRUE) group <- data.frame(level = levs) %>%    mutate(value = ifelse(level == \"treat\", 0.9, 0)) y <- (1 - rbinom(n = N, size = 1, prob = pi)) *    rlnorm(n = N, meanlog = mu_log + group$value + yr$value, sdlog = sigma_log) sim_data <- data.frame(y = y, group = group$level, year = factor(yr$year))  head(sim_data) #>           y   group year #> 1  6.791137 placebo 2002 #> 2  0.000000 placebo 1998 #> 3 11.200289 placebo 1998 #> 4  1.143665   treat 2012 #> 5  4.161341   treat 2007 #> 6 21.371726   treat 1999 plot_bubble(df = sim_data, group = c(\"year\", \"group\")) m1 <- brm(bf(y ~ year + group, hu ~ 1),            data = sim_data, family = \"hurdle_lognormal\", chains = 2,            file = \"m1\", file_refit = \"never\") plot_index(m1, year = \"year\") # plot_influ(m1, year = \"year\") # plot_bayesian_cdi(fit = m1, xfocus = \"group\", yfocus = \"year\", xlab = \"Group\")"},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"influ2","text":"influ2 package based original influ package developed generate influence statistics associated plots. influ package functions use outputs glm function. influ2 package developed use outputs brms relies heavily R packages tidyverse suite packages. vignette showcases influ2 package.","code":""},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"functions-for-exploring-data","dir":"Articles","previous_headings":"","what":"Functions for exploring data","title":"influ2","text":"vignette use simulated catch per unit effort (CPUE) data set model number lobsters caught per pot. data set response variable labelled lobsters includes dependent variables year (2000 2017), month, depth (meters), soak (soak time pot hours). step-wise variable selection model selection done vignette. main function exploring data influ2 plot_bubble presents number records two user defined groups within data set. bubble size plot_bubble represents number records across entire data set, bubbles can either single colour coloured third variable data set. simulated data set Distribution data year month. Distribution data year month, also coloured month.","code":"library(knitr) library(tidyverse) library(reshape2) library(brms) library(influ2) library(bayesplot)  theme_set(theme_bw())  options(mc.cores = parallel::detectCores()) data(lobsters_per_pot) nrow(lobsters_per_pot) #> [1] 15642 head(lobsters_per_pot) #> # A tibble: 6 × 5 #>   lobsters year  month depth  soak #>      <dbl> <fct> <fct> <dbl> <dbl> #> 1        3 2000  01     29.9  25.2 #> 2        4 2000  01     16.4  39.1 #> 3        4 2000  01     11.9  26.5 #> 4        0 2000  01     18.6  26.4 #> 5        0 2000  01     33.8  24.7 #> 6        0 2000  01     21.0  24.2 plot_bubble(df = lobsters_per_pot, group = c(\"year\", \"month\")) +   labs(x = \"Month\", y = \"Year\") plot_bubble(df = lobsters_per_pot, group = c(\"year\", \"month\"), fill = \"month\") +   labs(x = \"Month\", y = \"Year\") +   theme(legend.position = \"none\")"},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"the-origninal-influ-versus-influ2","dir":"Articles","previous_headings":"","what":"The origninal influ versus influ2","title":"influ2","text":"Two different models fitted brms. first model assumes Poisson distributioin includes explanatory variables year, month, 3rd order polynomial soak time. second model assumes negative binomial distribution includes explanatory variables year, month random effect, spline depth 3 degrees freedom. Fit model using glm generate influence statistics using original influ package original CDI plot influ package. new Bayesian CDI plot influ2 package. original step-plot influ package. influ2 package generate steps plots automatically like influ. step must modelled separately list models defined . new Bayesian step-plot influ2 package. Note new step-plot requires models/steps run brms function can used.     Comparison influences produced original influ package (points) new influ2 calculation (lines).","code":"fit1 <- brm(lobsters ~ year + month + poly(soak, 3),              data = lobsters_per_pot, family = poisson,              chains = 2, iter = 1500, refresh = 0, seed = 42,              file = \"fit1\", file_refit = \"never\") fit2 <- brm(lobsters ~ year + (1 | month) + s(depth, k = 3),              data = lobsters_per_pot, family = negbinomial(),              control = list(adapt_delta = 0.99),             chains = 2, iter = 3000, refresh = 0, seed = 1,              file = \"fit2\", file_refit = \"never\") criterion <- c(\"loo\", \"waic\", \"bayes_R2\") fit1 <- add_criterion(fit1, criterion = criterion, file = \"fit1\") fit2 <- add_criterion(fit2, criterion = criterion, file = \"fit2\") fit_glm <- glm(lobsters ~ year + month + poly(soak, 3),                 data = lobsters_per_pot, family = poisson) myInfl <- Influence$new(model = fit_glm) myInfl$init() myInfl$calc() myInfl$cdiPlot(term = \"month\") cdi_month <- plot_bayesian_cdi(fit = fit1, xfocus = \"month\", yfocus = \"year\",                                 xlab = \"Month\", ylab = \"Year\") cdi_month myInfl$stepPlot() fits <- list(fit1, fit2) plot_step(fits = fits, year = \"year\") plot_index(fit2, year = \"year\") #> Warning: Removed 18 rows containing missing values (`geom_line()`). #> Warning: Removed 18 rows containing missing values (`geom_point()`). myInfl$stanPlot() plot_influ(fit = fit1, year = \"year\") myInfl$influPlot() i1 <- myInfl$influences %>%   pivot_longer(cols = -level, names_to = \"variable\") %>%   rename(year = level) i_month <- get_influ(fit = fit1, group = c(\"year\", \"month\")) %>%   group_by(year) %>%   summarise(value = mean(delta)) %>%   mutate(variable = \"month\") i_soak <- get_influ(fit = fit1, group = c(\"year\", \"soak\")) %>%   group_by(year) %>%   summarise(value = mean(delta)) %>%   mutate(variable = \"poly(soak, 3)\") i2 <- rbind(i_month, i_soak)  ggplot(data = i2, aes(x = year, y = exp(value))) +   geom_point(data = i1) +   geom_line(aes(colour = variable, group = variable)) +   facet_wrap(variable ~ ., ncol = 1) +   labs(x = \"Year\", y = \"Influence\") +   theme(legend.position = \"none\")"},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"functions-for-exploring-models","dir":"Articles","previous_headings":"","what":"Functions for exploring models","title":"influ2","text":"evaluate model fit using loo waic. options include kfold, loo_subsample, bayes_R2, loo_R2, marglik. Bayesian R2 bayes_R2 three model runs CDI plot random effect. Comparison plot model runs. Unstandardised versus standardised series.","code":"fit1$criteria$loo #>  #> Computed from 1500 by 15642 log-likelihood matrix #>  #>          Estimate    SE #> elpd_loo -25412.3 198.5 #> p_loo        67.9   1.9 #> looic     50824.7 397.0 #> ------ #> Monte Carlo SE of elpd_loo is 0.2. #>  #> All Pareto k estimates are good (k < 0.5). #> See help('pareto-k-diagnostic') for details. fit1$criteria$waic #>  #> Computed from 1500 by 15642 log-likelihood matrix #>  #>           Estimate    SE #> elpd_waic -25412.2 198.5 #> p_waic        67.7   1.9 #> waic       50824.4 397.0 #>  #> 2 (0.0%) p_waic estimates greater than 0.4. We recommend trying loo instead. loo_compare(fit1, fit2, criterion = \"loo\") %>% kable(digits = 1) loo_compare(fit1, fit2, criterion = \"waic\") %>% kable(digits = 1) # get_bayes_R2(fits) # cdi_month plot_bayesian_cdi(fit = fit2, xfocus = \"month\", yfocus = \"year\",                    xlab = \"Month\", ylab = \"Year\") # plot_bayesian_cdi(fit = fit1, xfocus = \"soak\", yfocus = \"year\",  #                   xlab = \"Soak time (hours)\", ylab = \"Year\") # plot_bayesian_cdi(fit = fit2, xfocus = \"depth\", yfocus = \"year\",  #                   xlab = \"Depth (m)\", ylab = \"Year\") fits <- list(fit1, fit2) plot_compare(fits = fits, year = \"year\") plot_index(fit = fit1, year = \"year\") #> Warning: Removed 18 rows containing missing values (`geom_line()`). #> Warning: Removed 18 rows containing missing values (`geom_point()`)."},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"diagnostics","dir":"Articles","previous_headings":"","what":"Diagnostics","title":"influ2","text":"influ2 package based original influ package developed generate influence plots. influ package functions use outputs glm function. influ2 package developed use outputs brms relies heavily R packages ggplot2 dplyr. vignette showcases influ2 package focus model diagnostics including posterior predictive distributions, residuals, quantile-quantile plots. Comparison empirical distribution data (y) distributions simulated/replicated data (yrep) posterior predictive distribution. Posterior predictive check. Residuals loess smoother year.","code":"yrep <- posterior_predict(fit1, ndraws = 100) # ppc_dens_overlay(y = lobsters_per_pot$lobsters, yrep = yrep) +  #   labs(x = \"CPUE\", y = \"Density\")  ppc_bars(y = lobsters_per_pot$lobsters, yrep = yrep) +    labs(x = \"CPUE\", y = \"Density\") ppc_ecdf_overlay(y = lobsters_per_pot$lobsters, yrep = yrep, discrete = TRUE) +    coord_cartesian(xlim = c(0, 10)) # loo <- loo(fit1, save_psis = TRUE) # psis <- loo$psis_object # lw <- weights(psis) # yrep <- posterior_predict(fit1) # ppc_loo_pit_qq(y = lobsters_per_pot$lobsters, yrep = yrep, lw = lw) # plot_qq(fit = fit1) # plot_predicted_residuals(fit = fit1, trend = \"loess\") # plot_predicted_residuals(fit = fit1, trend = \"lm\") + #   facet_wrap(year ~ .) # A new style of residual plot fit <- fit1  # Extract predicted values pred <- fitted(fit) %>% data.frame() names(pred) <- paste0(\"pred.\", names(pred))  # Extract residuals resid <- residuals(fit) %>% data.frame() names(resid) <- paste0(\"resid.\", names(resid))  df <- cbind(resid, pred, lobsters_per_pot)  ggplot(data = df, aes(x = year, y = .data$resid.Estimate)) +   geom_pointrange(aes(ymin = .data$resid.Q2.5, ymax = .data$resid.Q97.5), alpha = 0.75) +   facet_wrap(month ~ .) +   geom_hline(yintercept = 0, linetype = \"dashed\") +   # geom_errorbarh(aes(xmax = .data$pred.Q2.5, xmin = .data$pred.Q97.5, height = 0), alpha = 0.75) +   # labs(x = \"Predicted values\", y = \"Residuals\") +   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"implied-residuals","dir":"Articles","previous_headings":"","what":"Implied residuals","title":"influ2","text":"Implied coefficients (points) calculated normalised fishing year coefficient (grey line) plus mean standardised residuals year category variable. values approximate coefficients obtained area x year interaction term fitted, particularly area x year combinations substantial proportion records. error bars indicate one standard error standardised residuals. information top panel identifies plotted category, provides correlation coefficient (rho) category year index overall model index, number records supporting category.","code":"# plot_implied_residuals(fit = fit2, data = lobsters_per_pot,  #                        year = \"year\", groups = \"month\") + #   theme(axis.text.x = element_text(angle = 45, hjust = 1)) # plot_implied_residuals(fit = fit2, data = lobsters_per_pot,  #                        year = \"year\", groups = \"depth\") + #   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"http://www.quantifish.co.nz/influ2/articles/influ2.html","id":"functions-for-generating-outputs-for-stock-assessment","dir":"Articles","previous_headings":"","what":"Functions for generating outputs for stock assessment","title":"influ2","text":"Finally, order fit data stock assessment model indices can produced using get_index function. Estimate Est.Error columns used stock assessment.  Simulating lognormal distribution comparing table values. Simulating wrong SD underestimates uncertainty low values.","code":"unstd <- get_unstandarsied(fit = fit2, year = \"year\") cpue0 <- get_index(fit = fit2, year = \"year\")  cpue0 %>%   mutate(Unstandardised = unstd$Median) %>%   select(Year, Unstandardised, Mean, SD, Qlower, Median, Qupper) %>%   kable(digits = 3) ggplot(data = cpue0, aes(x = Year)) +   geom_pointrange(aes(y = Median, ymin = Qlower, ymax = Qupper)) +   geom_line(aes(y = Mean, group = 1), colour = \"red\") +   scale_y_continuous(limits = c(0, NA), expand = expansion(mult = c(0, 0.05))) +   labs(x = NULL, y = \"CPUE\") +   theme(axis.text.x = element_text(angle = 45, hjust = 1)) cpue1 <- cpue0 %>% mutate(Type = \"Estimate\") cpue2 <- cpue1 %>% mutate(Type = \"Simulated wrong\") cpue3 <- cpue1 %>% mutate(Type = \"Simulated\")  for (ii in 1:nrow(cpue1)) {   sdd <- cpue1$SD[ii] # this is wrong   r1 <- rlnorm(n = 5000, log(cpue1$Mean[ii]), sdd)   cpue2$Median[ii] <- median(r1)   cpue2$Qlower[ii] <- quantile(r1, probs = 0.025)   cpue2$Qupper[ii] <- quantile(r1, probs = 0.975)      sdd <- log(1 + cpue1$SD[ii] / cpue1$Mean[ii])   r1 <- rlnorm(n = 5000, log(cpue1$Median[ii]), sdd)   cpue3$Median[ii] <- median(r1)   cpue3$Qlower[ii] <- quantile(r1, probs = 0.025)   cpue3$Qupper[ii] <- quantile(r1, probs = 0.975) }  df <- bind_rows(cpue1, cpue2, cpue3)  ggplot(data = df, aes(x = Year, y = Median, colour = Type)) +   geom_pointrange(aes(ymin = Qlower, ymax = Qupper),                    position = position_dodge(width = 0.5)) +   scale_y_continuous(limits = c(0, NA), expand = expansion(mult = c(0, 0.05))) +   labs(x = NULL, y = \"CPUE\") +   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"http://www.quantifish.co.nz/influ2/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Darcy Webber. Author, maintainer.","code":""},{"path":"http://www.quantifish.co.nz/influ2/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Webber D (2023). influ2: Influence plots. https://github.com/quantifish/influ2, http://www.quantifish.co.nz/influ2/.","code":"@Manual{,   title = {influ2: Influence plots},   author = {Darcy Webber},   year = {2023},   note = {https://github.com/quantifish/influ2, http://www.quantifish.co.nz/influ2/}, }"},{"path":"http://www.quantifish.co.nz/influ2/index.html","id":"influ2-","dir":"","previous_headings":"","what":"Influence plots","title":"Influence plots","text":"Nokome Bentley’s R package influ developed use frequentist models fitted R using glm function. infu2 package Bayesian couterpart developed use brms. works population-level group-level effects, Bayesian equivalents fixed-effects random-effects. contains functions extracting coefficients, calculating influence terms, generating CDI plots, step plots, diagnostic plots.","code":""},{"path":"http://www.quantifish.co.nz/influ2/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Influence plots","text":"influ2 package can installed within R using:","code":"library(devtools) install_github(repo = \"quantifish/influ2\", build_vignettes = TRUE)"},{"path":"http://www.quantifish.co.nz/influ2/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Influence plots","text":"Bentley, N., Kendrick, T. H., Starr, P. J., Breen, P. . Inﬂuence plots metrics: tools better understanding ﬁsheries catch-per-unit-effort standardizations. – ICES Journal Marine Science, doi:10.1093/icesjms/fsr174.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-calc.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform necessary calculations — Influence$calc","title":"Perform necessary calculations — Influence$calc","text":"method must called $summary data frame available plots ($stanPlot(),$stepPlot(),$influPlot(),$cdiPlot()) can generated Influence object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-calc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform necessary calculations — Influence$calc","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-cdiPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"A coefficient-distribution-influence (CDI) plot for a model term — Influence$cdiPlot","title":"A coefficient-distribution-influence (CDI) plot for a model term — Influence$cdiPlot","text":"coefficient-distribution-influence (CDI) plot model term","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-cdiPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A coefficient-distribution-influence (CDI) plot for a model term — Influence$cdiPlot","text":"term model term CDI plot generated variable Optional. cases may necessary specifiy variable related term. example, term \"log(effort)\" variable \"effort\".  cases can deduced term, complexes terms argumey may also need supplied (error message tell ).","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-cdiPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A coefficient-distribution-influence (CDI) plot for a model term — Influence$cdiPlot","text":"None","code":""},{"path":[]},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-cdiPlotAll.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a CDI plot for each of the terms in the model — Influence$cdiPlotAll","title":"Plot a CDI plot for each of the terms in the model — Influence$cdiPlotAll","text":"Plot CDI plot terms model","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-cdiPlotAll.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a CDI plot for each of the terms in the model — Influence$cdiPlotAll","text":"done function called (term string argument) CDI plot generated. Optional.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-cdiPlotAll.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a CDI plot for each of the terms in the model — Influence$cdiPlotAll","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain the effects associated with a particular term in the model — Influence$effects","title":"Obtain the effects associated with a particular term in the model — Influence$effects","text":"Obtain effects associated particular term model","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain the effects associated with a particular term in the model — Influence$effects","text":"model model extract effects term term model effects extracted","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain the effects associated with a particular term in the model — Influence$effects","text":"numeric vector effects model term","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-influPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Influence plot — Influence$influPlot","title":"Influence plot — Influence$influPlot","text":"plot influence explanatory variable model","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-influPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Influence plot — Influence$influPlot","text":"panels Whether produce plot separate panels variable","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-influPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Influence plot — Influence$influPlot","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-init.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialise the Influence object — Influence$init","title":"Initialise the Influence object — Influence$init","text":"method need called directly. called $new constructor method.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-init.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialise the Influence object — Influence$init","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-new.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a new Influence object. — Influence$new","title":"Create a new Influence object. — Influence$new","text":"new Influence object needs created combination model focus term. example, might compare inflence term two separate models:    influ1 = Influence$new(model1,'year')    influ2 = Influence$new(model2,'year')","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-new.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a new Influence object. — Influence$new","text":"model model influence terms determined data data used fit model (required types models store data) response response term model focus focus term influence calculated.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-new.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a new Influence object. — Influence$new","text":"new Influence object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stanPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Standardization plot — Influence$stanPlot","title":"Standardization plot — Influence$stanPlot","text":"plot simply compares standardised unstandardised indices model overall standardisation effect can ascertained.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stanPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standardization plot — Influence$stanPlot","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stepAndInfluPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Step and influence plots — Influence$stepAndInfluPlot","title":"Step and influence plots — Influence$stepAndInfluPlot","text":"Side side, panellised step influence plots","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stepAndInfluPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Step and influence plots — Influence$stepAndInfluPlot","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stepPlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Step plot — Influence$stepPlot","title":"Step plot — Influence$stepPlot","text":"plot standardised indices explanatory variable added model (order specified model equation)","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stepPlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Step plot — Influence$stepPlot","text":"panels Whether produce \"progressive\" step plot (default) step represented separate  panel previous steps shown dashed line steps shown dashed grey lines. FALSE single panel plot produced symbols step","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence-cash-stepPlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Step plot — Influence$stepPlot","text":"None","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence.html","id":null,"dir":"Reference","previous_headings":"","what":"The influence prototype object. — Influence","title":"The influence prototype object. — Influence","text":"influence prototype object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The influence prototype object. — Influence","text":"","code":"Influence"},{"path":"http://www.quantifish.co.nz/influ2/reference/Influence.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The influence prototype object. — Influence","text":"object class proto (inherits environment) length 12.","code":""},{"path":[]},{"path":"http://www.quantifish.co.nz/influ2/reference/coeffs.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain the coefficients associated with a particular term in the model — coeffs","title":"Obtain the coefficients associated with a particular term in the model — coeffs","text":"Extracts coefficients","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/coeffs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain the coefficients associated with a particular term in the model — coeffs","text":"","code":"coeffs(., model = .$model, term = .$focus)"},{"path":"http://www.quantifish.co.nz/influ2/reference/coeffs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain the coefficients associated with a particular term in the model — coeffs","text":"model model extract coefficients term term model coefficients extracted","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/coeffs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain the coefficients associated with a particular term in the model — coeffs","text":"vector coefficients","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/geo_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Geometric mean — geo_mean","title":"Geometric mean — geo_mean","text":"Geometric mean","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/geo_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geometric mean — geo_mean","text":"","code":"geo_mean(a)"},{"path":"http://www.quantifish.co.nz/influ2/reference/geo_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Geometric mean — geo_mean","text":"vector.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/geo_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Geometric mean — geo_mean","text":"geometric mean vector.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/geo_mean.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Geometric mean — geo_mean","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_bayes_R2.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Bayesian R2 for a list of models — get_bayes_R2","title":"Get Bayesian R2 for a list of models — get_bayes_R2","text":"Calculates Bayesian R2 list brms models using add_criterion function.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_bayes_R2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Bayesian R2 for a list of models — get_bayes_R2","text":"","code":"get_bayes_R2(fits, ...)"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_bayes_R2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Bayesian R2 for a list of models — get_bayes_R2","text":"fits list model fits order want compare ... additional parameters passed add_criterion","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_bayes_R2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get Bayesian R2 for a list of models — get_bayes_R2","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs.html","id":null,"dir":"Reference","previous_headings":"","what":"Get model coefficients — get_coefs","title":"Get model coefficients — get_coefs","text":"Get model coefficients","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get model coefficients — get_coefs","text":"","code":"get_coefs(   fit,   var = \"area\",   normalise = TRUE,   hurdle = FALSE,   transform = FALSE )"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get model coefficients — get_coefs","text":"fit object class brmsfit. var variable obtain. normalise Normalise mean zero. hurdle hurdle model use hurdle. transform coefficients transformed using link function.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get model coefficients — get_coefs","text":"data.frame.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs_raw.html","id":null,"dir":"Reference","previous_headings":"","what":"Get raw coefficients — get_coefs_raw","title":"Get raw coefficients — get_coefs_raw","text":"Get raw coefficients","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs_raw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get raw coefficients — get_coefs_raw","text":"","code":"get_coefs_raw(fit, var = \"area\")"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs_raw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get raw coefficients — get_coefs_raw","text":"fit object class brmsfit. var variable obtain.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_coefs_raw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get raw coefficients — get_coefs_raw","text":"data.frame.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the standardised indices — get_index","title":"Get the standardised indices — get_index","text":"Get standardised indices year associated uncertainty return either table ggplot.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the standardised indices — get_index","text":"","code":"get_index(   fit,   year = \"year\",   probs = c(0.025, 0.975),   rescale = 1,   do_plot = FALSE,   ... )"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the standardised indices — get_index","text":"fit object class brmsfit. year year time label (e.g. year, Year, fishing_year, etc). probs percentiles computed quantile function. rescale re-scale series. Choose \"raw\" retain raw series, \"unstandardised\" re-scale geometric mean unstandardised series, number re-scale . do_plot Return ggplot object instead data.frame. ... Additional parameters passed fitted.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the standardised indices — get_index","text":"data.frame ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_index.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get the standardised indices — get_index","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the influence metric — get_influ","title":"Get the influence metric — get_influ","text":"Get influence metric","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the influence metric — get_influ","text":"","code":"get_influ(fit, group = c(\"fishing_year\", \"area\"), hurdle = FALSE)"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the influence metric — get_influ","text":"fit model fit group variable obtain hurdle hurdle model use hurdle","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the influence metric — get_influ","text":"data.frame","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get the influence metric — get_influ","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ2.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the influence metric — get_influ2","title":"Get the influence metric — get_influ2","text":"Get influence metric","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the influence metric — get_influ2","text":"","code":"get_influ2(fit, group = c(\"fishing_year\", \"area\"), hurdle = FALSE)"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the influence metric — get_influ2","text":"fit object class brmsfit. group variable obtain hurdle hurdle model use hurdle","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the influence metric — get_influ2","text":"data.frame.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_influ2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get the influence metric — get_influ2","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_marginal.html","id":null,"dir":"Reference","previous_headings":"","what":"Get model coefficients new version — get_marginal","title":"Get model coefficients new version — get_marginal","text":"Get model coefficients new version","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_marginal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get model coefficients new version — get_marginal","text":"","code":"get_marginal(fit, var = \"area\")"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_marginal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get model coefficients new version — get_marginal","text":"fit object class brmsfit. var variable obtain.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_marginal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get model coefficients new version — get_marginal","text":"data.frame.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_marginal.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get model coefficients new version — get_marginal","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_unstandarsied.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the unstandardised indices — get_unstandarsied","title":"Get the unstandardised indices — get_unstandarsied","text":"Get unstandardised indices","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_unstandarsied.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the unstandardised indices — get_unstandarsied","text":"","code":"get_unstandarsied(fit, year = \"year\", rescale = 1)"},{"path":"http://www.quantifish.co.nz/influ2/reference/get_unstandarsied.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the unstandardised indices — get_unstandarsied","text":"fit object class brmsfit. year year time label (e.g. year, Year, fishing_year, etc). rescale re-scale series. Choose \"raw\" retain raw unstandardised series, number re-scale .","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_unstandarsied.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the unstandardised indices — get_unstandarsied","text":"data.frame ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/get_unstandarsied.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get the unstandardised indices — get_unstandarsied","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/id_var_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify the variable type — id_var_type","title":"Identify the variable type — id_var_type","text":"Identify variable type","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/id_var_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify the variable type — id_var_type","text":"","code":"id_var_type(fit, xfocus, hurdle = FALSE)"},{"path":"http://www.quantifish.co.nz/influ2/reference/id_var_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify the variable type — id_var_type","text":"fit object class brmsfit. xfocus x hurdle hurdle ","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/id_var_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify the variable type — id_var_type","text":"geometric mean vector.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/id_var_type.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Identify the variable type — id_var_type","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Influence in linear models — influ-package","title":"Influence in linear models — influ-package","text":"package generating step plots, influence plots, CDI plots, influence metrics linear model","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Influence in linear models — influ-package","text":"concept influence generalised linear models described  Bentley, N., Kendrick, T. H., Starr, P. J., & Breen, P. . (2011). Influence plots metrics: tools better understanding fisheries catch-per-unit-effort standardisations. package provides implementation plots metrics described paper. ICES Journal Marine Science, doi:10.1093/icesjms/fsr174. Currently, package works glm models log transformed dependent variables. type models commonly used one part delta-lognormal approach catch-per-unit-effort (CPUE) standardisation. e.g. model = glm(log(catch)~year+month+vessel+effort) time, package may generalised types models (e.g. gams) types dependent variables. document provides minimal documentation best way learn use package vignette:  \"example use 'influ' package\"","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Influence in linear models — influ-package","text":"Nokome Bentley","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ2.html","id":null,"dir":"Reference","previous_headings":"","what":"Influence plots — influ2","title":"Influence plots — influ2","text":"Standardisation catch per unit effort using generalised linear models (GLMs) common procedure attempts remove confounding effects variables abundance. influ2 package can used generate plots metrics assist  understanding standardisation effects explanatory variables included GLMs. influ2 package provides two categories important functions: get plot.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ2.html","id":"get-functions","dir":"Reference","previous_headings":"","what":"Get functions","title":"Influence plots — influ2","text":"get functions obtain information brmsfit objects processing data returning  data.frame.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ2.html","id":"plot-functions","dir":"Reference","previous_headings":"","what":"Plot functions","title":"Influence plots — influ2","text":"plot functions include get function appropriate ggplot2 geom plot output.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/influ2.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Influence plots — influ2","text":"Bentley, N., Kendrick, T. H., Starr, P. J., Breen, P. . (2011). Influence plots metrics: tools better  understanding fisheries catch-per-unit-effort standardizations. ICES Journal Marine Science.  doi:10.1093/icesjms/fsr174","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/inv_logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Inverse logit — inv_logit","title":"Inverse logit — inv_logit","text":"Inverse logit","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/inv_logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inverse logit — inv_logit","text":"","code":"inv_logit(a)"},{"path":"http://www.quantifish.co.nz/influ2/reference/inv_logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inverse logit — inv_logit","text":"vector.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/inv_logit.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Inverse logit — inv_logit","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/lobsters_per_pot.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulated catch of lobsters per pot — lobsters_per_pot","title":"Simulated catch of lobsters per pot — lobsters_per_pot","text":"Simulated catch lobsters per pot.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/lobsters_per_pot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulated catch of lobsters per pot — lobsters_per_pot","text":"","code":"lobsters_per_pot"},{"path":"http://www.quantifish.co.nz/influ2/reference/lobsters_per_pot.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Simulated catch of lobsters per pot — lobsters_per_pot","text":"data.frame four fields:","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logistic.html","id":null,"dir":"Reference","previous_headings":"","what":"Logistic — logistic","title":"Logistic — logistic","text":"Logistic","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logistic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logistic — logistic","text":"","code":"logistic(q, location = 0, scale = 1, lower.tail = TRUE, log.p = FALSE)"},{"path":"http://www.quantifish.co.nz/influ2/reference/logistic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Logistic — logistic","text":"data.frame ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logistic.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Logistic — logistic","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logit.html","id":null,"dir":"Reference","previous_headings":"","what":"Logit — logit","title":"Logit — logit","text":"Logit logit","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Logit — logit","text":"","code":"logit(p)  logit(p)"},{"path":"http://www.quantifish.co.nz/influ2/reference/logit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Logit — logit","text":"p vector.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Logit — logit","text":"data.frame ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/logit.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Logit — logit","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi.html","id":null,"dir":"Reference","previous_headings":"","what":"Bayesian version of the CDI plot — plot_bayesian_cdi","title":"Bayesian version of the CDI plot — plot_bayesian_cdi","text":"CDI plot presents coefficients variable interest (top-left panel), spread data  (bottom-left panel), influence statistic (bottom-right panel).","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bayesian version of the CDI plot — plot_bayesian_cdi","text":"","code":"plot_bayesian_cdi(   fit,   xfocus = \"area\",   yfocus = \"fishing_year\",   xlab = NULL,   ylab = NULL,   hurdle = FALSE,   sort_coefs = FALSE,   axis.text.x.bl = TRUE,   colour = \"purple\",   p_margin = 0.05,   legend = TRUE,   sum_by = \"row\",   ... )"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bayesian version of the CDI plot — plot_bayesian_cdi","text":"fit object class brmsfit. xfocus column name variable plotted x axis.  column name must match one column names  data.frame passed brm data argument. yfocus column name variable plotted y axis.  column name must match one column names  data.frame passed brm data argument.  generally temporal variable generalised linear model (e.g. year). xlab x axis label. ylab y axis label. hurdle hurdle model use hurdle. sort_coefs coefficients sorted highest lowest. axis.text.x.bl Include x axis labels bottom-left (bl) bubble plot panel. colour colour use plot. p_margin margin panels plot. passed margin within theme. legend show legend . sum_by Sum 1 row, sum 1 column, sum 1 across data, raw. size bubbles  raw, legend change numbers records proportion. ... arguments passed nothing.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bayesian version of the CDI plot — plot_bayesian_cdi","text":"ggplot object.","code":""},{"path":[]},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Bayesian version of the CDI plot — plot_bayesian_cdi","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi2.html","id":null,"dir":"Reference","previous_headings":"","what":"Bayesian version of the CDI plot (depreciated) — plot_bayesian_cdi2","title":"Bayesian version of the CDI plot (depreciated) — plot_bayesian_cdi2","text":"Bayesian version CDI plot (depreciated)","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bayesian version of the CDI plot (depreciated) — plot_bayesian_cdi2","text":"","code":"plot_bayesian_cdi2(   fit,   xfocus = \"area\",   yfocus = \"fishing_year\",   hurdle = FALSE,   xlab = \"Month\",   ylab = \"Fishing year\",   colour = \"purple\" )"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bayesian version of the CDI plot (depreciated) — plot_bayesian_cdi2","text":"fit model fit xfocus column name variable plotted x axis. column name must match one column names data.frame passed brm data argument. yfocus column name variable plotted y axis. column name must match one column names data.frame passed brm data argument. generally temporal variable generalised linear model (e.g. year). hurdle hurdle model use hurdle xlab x axis label ylab y axis label colour colour use plot","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bayesian_cdi2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bayesian version of the CDI plot (depreciated) — plot_bayesian_cdi2","text":"ggplot object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bubble.html","id":null,"dir":"Reference","previous_headings":"","what":"Bubble plot — plot_bubble","title":"Bubble plot — plot_bubble","text":"Generates bubble plot data set.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bubble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bubble plot — plot_bubble","text":"","code":"plot_bubble(   df,   group = c(\"fishing_year\", \"vessel\"),   sort_order = NULL,   sum_by = \"raw\",   fill = \"purple\",   alpha = 0.5,   ylab = NA,   xlab = NA,   zlab = \"N\",   ... )"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bubble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bubble plot — plot_bubble","text":"df data.frame containing least two columns. group names columns data.frame plot. sort_order character vector containing order varables. sum_by Sum 1 row, sum 1 column, sum 1 across data, raw. size bubbles raw, legend change numbers records proportion. fill colour use plot, can either colour factor colour . alpha alpha level bubbles. ylab y axis label. xlab x axis label. zlab z axis label. ... arguments passed nothing.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bubble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bubble plot — plot_bubble","text":"ggplot object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_bubble.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Bubble plot — plot_bubble","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_compare.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare CPUE indices — plot_compare","title":"Compare CPUE indices — plot_compare","text":"Compare CPUE indices","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_compare.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare CPUE indices — plot_compare","text":"","code":"plot_compare(   fits,   labels = NULL,   year = \"year\",   probs = c(0.25, 0.75),   show_probs = TRUE,   rescale = \"raw\",   rescale_series = NULL )"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_compare.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare CPUE indices — plot_compare","text":"fits list objects class brmsfit order want compare . labels optional labels fits shown legend instead model formula. year year time label fitted model (e.g., year). probs quantiles plot. Defaults 25% 75% quantiles 50% credible interval (CI). show_probs plot quantiles ribbons . rescale re-scale series. Choose \"raw\" retain raw series, \"unstandardised\" re-scale geometric mean unstandardised series, number re-scale . rescale_series index series rescale one series longer/shorter others.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_compare.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare CPUE indices — plot_compare","text":"ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_compare.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Compare CPUE indices — plot_compare","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_data_extent.html","id":null,"dir":"Reference","previous_headings":"","what":"Data extent plot — plot_data_extent","title":"Data extent plot — plot_data_extent","text":"Generates bubble plot data set, generally used plotting database tables.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_data_extent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data extent plot — plot_data_extent","text":"","code":"plot_data_extent(data, xvar, yvar)"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_data_extent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data extent plot — plot_data_extent","text":"data data.frame containing least two columns. xvar name temporal column (e.g., year). yvar names columns data.frame plot.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_data_extent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data extent plot — plot_data_extent","text":"ggplot object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_data_extent.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Data extent plot — plot_data_extent","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_hurdle.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the hurdle and positive components — plot_hurdle","title":"Plot the hurdle and positive components — plot_hurdle","text":"Plot hurdle positive components","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_hurdle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the hurdle and positive components — plot_hurdle","text":"","code":"plot_hurdle(fit, year = \"Year\", fill = \"purple\", probs = c(0.025, 0.975))"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_hurdle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the hurdle and positive components — plot_hurdle","text":"fit object class brmsfit. year year time label. fill fill colour percentiles. probs percentiles computed quantile function.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_hurdle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the hurdle and positive components — plot_hurdle","text":"ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_hurdle.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot the hurdle and positive components — plot_hurdle","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_implied_residuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Plots predicted values versus residuals — plot_implied_residuals","title":"Plots predicted values versus residuals — plot_implied_residuals","text":"plots predicted values residuals including uncertainty, using fitted residual functions brmsfit object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_implied_residuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plots predicted values versus residuals — plot_implied_residuals","text":"","code":"plot_implied_residuals(fit, data = NULL, year = \"Year\", groups = \"Species\")"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_implied_residuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plots predicted values versus residuals — plot_implied_residuals","text":"fit object class brmsfit. data data frame dimensions model data year year column groups grouping/facet variable","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_implied_residuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plots predicted values versus residuals — plot_implied_residuals","text":"ggplot object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_implied_residuals.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plots predicted values versus residuals — plot_implied_residuals","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the standardised and unstandardised indices — plot_index","title":"Plot the standardised and unstandardised indices — plot_index","text":"plot unstandardised indices geometric mean data.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the standardised and unstandardised indices — plot_index","text":"","code":"plot_index(   fit,   year = \"Year\",   fill = \"purple\",   probs = c(0.25, 0.75),   rescale = 1,   show_unstandardised = TRUE )"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the standardised and unstandardised indices — plot_index","text":"fit object class brmsfit. year year time label. fill fill colour percentiles. probs percentiles computed quantile function. rescale index series rescale . set NULL rescaling done. show_unstandardised show unstandardised series .","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the standardised and unstandardised indices — plot_index","text":"ggplot object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_index.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot the standardised and unstandardised indices — plot_index","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_influ.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot the influence metric for all variables in a model — plot_influ","title":"Plot the influence metric for all variables in a model — plot_influ","text":"influence metric indicates much standardisation effect model .","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_influ.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot the influence metric for all variables in a model — plot_influ","text":"","code":"plot_influ(fit, year = \"fishing_year\", fill = \"purple\", hurdle = FALSE)"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_influ.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot the influence metric for all variables in a model — plot_influ","text":"fit object class brmsfit. year year variable label. fill colour use plot. hurdle hurdle model use hurdle","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_influ.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot the influence metric for all variables in a model — plot_influ","text":"ggplot object.","code":""},{"path":[]},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_influ.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plot the influence metric for all variables in a model — plot_influ","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_influ.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot the influence metric for all variables in a model — plot_influ","text":"","code":"if (FALSE) { data(epilepsy) epilepsy$Age <- factor(epilepsy$Age) fit1 <- brm(count ~ Age + (1|patient), data = epilepsy, family = poisson(), iter = 100) summary(fit1) plot_influ(fit = fit1, year = \"Age\") }"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_predicted_residuals.html","id":null,"dir":"Reference","previous_headings":"","what":"Plots predicted values versus residuals — plot_predicted_residuals","title":"Plots predicted values versus residuals — plot_predicted_residuals","text":"plots predicted values residuals including uncertainty, using fitted residual functions brmsfit object.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_predicted_residuals.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plots predicted values versus residuals — plot_predicted_residuals","text":"","code":"plot_predicted_residuals(fit, trend = \"loess\", type = \"ordinary\")"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_predicted_residuals.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plots predicted values versus residuals — plot_predicted_residuals","text":"fit object class brmsfit. trend show loess smoother linear line type type residuals, either \"ordinary\" \"pearson\".","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_predicted_residuals.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plots predicted values versus residuals — plot_predicted_residuals","text":"ggplot object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_predicted_residuals.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Plots predicted values versus residuals — plot_predicted_residuals","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_qq.html","id":null,"dir":"Reference","previous_headings":"","what":"Bayesian version of the quantile-quantile plot — plot_qq","title":"Bayesian version of the quantile-quantile plot — plot_qq","text":"similar plot(fit, 2). works different distributions.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_qq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bayesian version of the quantile-quantile plot — plot_qq","text":"","code":"plot_qq(fit, probs = c(0.25, 0.75))"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_qq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bayesian version of the quantile-quantile plot — plot_qq","text":"fit object class brmsfit. probs numeric vector length two, representing probabilities. Corresponding quantile pairs define line drawn.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_qq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bayesian version of the quantile-quantile plot — plot_qq","text":"ggplot object","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_qq.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Bayesian version of the quantile-quantile plot — plot_qq","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_step.html","id":null,"dir":"Reference","previous_headings":"","what":"A Bayesian version of the step-plot — plot_step","title":"A Bayesian version of the step-plot — plot_step","text":"requires steps run using brms provided list model fits.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_step.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A Bayesian version of the step-plot — plot_step","text":"","code":"plot_step(   fits,   year = \"year\",   fill = \"purple\",   probs = c(0.25, 0.75),   show_probs = TRUE )"},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_step.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A Bayesian version of the step-plot — plot_step","text":"fits list model fits order want compare year year time label fill colour credible interval ribbon probs quantiles plot show_probs plot quantiles ","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/plot_step.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"A Bayesian version of the step-plot — plot_step","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/ses.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain standard errors for the coefficients associated with a particular term in the model — ses","title":"Obtain standard errors for the coefficients associated with a particular term in the model — ses","text":"Extract standard errors using method Francis","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/ses.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain standard errors for the coefficients associated with a particular term in the model — ses","text":"","code":"ses(., model = .$model, term = .$focus)"},{"path":"http://www.quantifish.co.nz/influ2/reference/ses.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain standard errors for the coefficients associated with a particular term in the model — ses","text":"model model extract standard errors coefficient term term model coefficients SEs extracted","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/table_criterion.html","id":null,"dir":"Reference","previous_headings":"","what":"Get table of various criterion — table_criterion","title":"Get table of various criterion — table_criterion","text":"Calculates various criterion list brms models using add_criterion function.","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/table_criterion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get table of various criterion — table_criterion","text":"","code":"table_criterion(   fits,   criterion = c(\"loo\", \"loo_R2\", \"bayes_R2\", \"log_lik\"),   sort = TRUE,   ... )"},{"path":"http://www.quantifish.co.nz/influ2/reference/table_criterion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get table of various criterion — table_criterion","text":"fits list model fits order want compare criterion criterion use sort sort table best models top ... additional parameters passed add_criterion","code":""},{"path":"http://www.quantifish.co.nz/influ2/reference/table_criterion.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get table of various criterion — table_criterion","text":"Darcy Webber darcy@quantifish.co.nz","code":""},{"path":"http://www.quantifish.co.nz/influ2/news/index.html","id":"influ2-000","dir":"Changelog","previous_headings":"","what":"influ2 0.0.0","title":"influ2 0.0.0","text":"creation influ2 package","code":""}]
